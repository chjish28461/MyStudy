<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>websocket通信</title>
	</head>
	<body>
		<input type="" name="text" id="text" value=""/>
		<button onclick="sendMessage();">确认</button>
		<script type="text/javascript">
			var ws = new WebSocket("ws://localhost:8080");
		    ws.onopen = function (e) {
		        console.log('ws Connection!');
		    }
		    ws.onmessage = (evt)=>{
			  	console.log(evt.data)
			};
			ws.onclose = (evt)=>{
			  	console.log("WebSocketClosed!");
			};
			ws.onerror = (evt)=>{
			  console.log("WebSocketError!");
			};
		    function sendMessage() {
		        ws.send(document.getElementById('text').value);
		    }
		    function $(ele){
		    	return document.querySelectorAll(ele);
		    }
		</script>
	</body>
</html>
